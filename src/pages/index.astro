---
// src/pages/index.astro
import Header from '../components/Header.astro';

import { Image, getImage } from 'astro:assets';

import domyImg from '../assets/mainpage/domy-na-klic.jpg';
import vodoImg from '../assets/mainpage/vodo-topo.jpg';
import elektroImg from '../assets/mainpage/elektro.jpg';
import zednickeImg from '../assets/mainpage/zednicke-prace.jpg';
import mainImage from '../assets/mainpage/main-image.jpg';
import kontaktImg from '../assets/mainpage/kontakt-image.jpg';

//projekt1
import project1Img1 from '../assets/projectsImg/Project1/IMG_3473_lightbox.jpg';
import project1Img2 from '../assets/projectsImg/Project1/IMG_3409_lightbox.jpg';
import project1Img3 from '../assets/projectsImg/Project1/IMG_3421_lightbox.jpg';
import project1Img4 from '../assets/projectsImg/Project1/IMG_3434_lightbox.jpg';
import project1Img5 from '../assets/projectsImg/Project1/IMG_3436_lightbox.jpg';
import project1Img6 from '../assets/projectsImg/Project1/IMG_3441_lightbox.jpg';
import project1Img7 from '../assets/projectsImg/Project1/IMG_3445_lightbox.jpg';
import project1Img8 from '../assets/projectsImg/Project1/IMG_3449_lightbox.jpg';
import project1Img9 from '../assets/projectsImg/Project1/IMG_3460_lightbox.jpg';
import project1Img10 from '../assets/projectsImg/Project1/IMG_3480_lightbox.jpg';
//projekt2

//projekt3

//projekt4


const projectsData = [
  {
    id: "projekt-1",
    title: "Ekofarma Javorn√≠k",
    category: "vodo-topo",
    shortDesc: "realizace vodo-topo",
    fullDesc: "Instalace nov√Ωch rozvod≈Ø vody a topen√≠ v prostor√°ch Ekoarmy. Pr√°ce obn√°≈°ely nata≈æen√≠ nov√©ho potrub√≠ a fin√°ln√≠ kompletaci sanity. Namontovali jsme nov√° umyvadla, toalety a √∫klidov√© v√Ωlevky. Syst√©m jsme doplnili o nov√Ω bojler pro oh≈ôev vody a v≈°e uvedli do pln√©ho provozu.",
    
    mainImage: project1Img1,
    gallery: [
        project1Img1, 
        project1Img2,
        project1Img3,
        project1Img4,
        project1Img5,
        project1Img6,
        project1Img7,
        project1Img8,
        project1Img9,
        project1Img10
    ]
  },
  {
    id: "projekt-2",
    title: "Projekt2",
    category: "Projekt2",
    shortDesc: "Projekt2",
    fullDesc: "Popis projektu 2",
    mainImage: "",
    gallery: []
  },
  {
    id: "projekt-3",
    title: "Projekt3",
    category: "Projekt3",
    shortDesc: "Projekt3",
    fullDesc: "Popis projektu 3",
    mainImage: "",
    gallery: [],
    hidden: true
  },
  {
    id: "projekt-4",
    title: "Projekt4",
    category: "Projekt4",
    shortDesc: "Projekt4",
    fullDesc: "Popis projektu 4",
    mainImage: "",
    gallery: [],
    hidden: true
  }
];

// Optimalizace obr√°zk≈Ø pomoc√≠ getImage
const projects = await Promise.all(projectsData.map(async (project) => {
    // Pokud projekt nem√° hlavn√≠ obr√°zek, vr√°t√≠me ho bez optimalizace
    if (!project.mainImage) {
        return {
            ...project,
            mainImage: '/placeholder.svg', // Cesta k z√°stupn√©mu obr√°zku
            gallery: []
        };
    }

    // Optimalizace hlavn√≠ho obr√°zku
    const mainImageOptimized = await getImage({
        src: project.mainImage,
        format: 'webp',
        width: 1200,
        height: 800, // P≈òID√ÅNO: V√Ω≈°ka je povinn√° pro extern√≠ URL. Pomƒõr cca 3:2
        fit: 'cover' // P≈òID√ÅNO: Zajist√≠, ≈æe se fotka o≈ô√≠zne a nedeformuje
    });

    // Optimalizace cel√© galerie (pro popup)
    const galleryOptimized = await Promise.all(project.gallery.map(async (imgUrl) => {
        const image = await getImage({
            src: imgUrl,
            format: 'webp',
            width: 1600,
            height: 1066, // P≈òID√ÅNO: V√Ω≈°ka pro galerii (taky pomƒõr 3:2)
            fit: 'inside'
        });
        return image.src;
    }));

    return {
        ...project,
        mainImage: mainImageOptimized.src,
        gallery: galleryOptimized
    };
}));
---


<html lang="cs" class="scroll-smooth">
  <head>
    <script is:inline async src="https://www.googletagmanager.com/gtag/js?id=G-2T6BZG4P9V"></script>
    <script is:inline>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2T6BZG4P9V');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="theme-color" content="#0a0a0a">
    
    <title>JDJ-craft - Stavebn√≠ pr√°ce, elektroinstalace a vodo-topo</title>
    
    <meta name="description" content="Kompletn√≠ stavebn√≠ pr√°ce, elektroinstalace a vodo-topo ve Zl√≠nsk√©m kraji (Tichov, Vala≈°sk√© Klobouky, Vset√≠n). Stavby na kl√≠ƒç, rekonstrukce a opravy. Spolehlivost od roku 2025.">
    
    <meta name="keywords" content="zedn√≠k, elektro, vodo-topo, rekonstrukce, stavba domu, Tichov, Vala≈°sk√© Klobouky, Vset√≠n, Zl√≠nsk√Ω kraj, Vala≈°sko, elektrik√°≈ô, instalat√©r, topen√°≈ô, fas√°dy, obklady">
    
    <meta name="robots" content="index, follow">
    <meta name="author" content="JDJ-craft s.r.o.">

    <meta property="og:title" content="JDJ-craft s.r.o. | Stavby a rekonstrukce na Vala≈°sku">
    <meta property="og:description" content="Hled√°te spolehlivou firmu na stavbu ƒçi rekonstrukci? Prov√°d√≠me zednick√©, elektrik√°≈ôsk√© a instalat√©rsk√© pr√°ce. Tichov a okol√≠.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.jdj-craft.cz/"> 
    <meta property="og:image" content="/og-image.jpg"> 

    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="apple-touch-icon" href="/favicon.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Oswald:wght@400;600;700&family=Montserrat:wght@900&display=swap" rel="stylesheet">

    <script type="application/ld+json" is:inline>
    {
      "@context": "https://schema.org",
      "@type": "GeneralContractor",
      "name": "JDJ-craft s.r.o.",
      "image": "https://www.jdj-craft.cz/favicon.png",
      "description": "Stavebn√≠ firma z Tichova poskytuj√≠c√≠ komplexn√≠ slu≈æby: hrub√° stavba, vodo-topo, elektroinstalace a zednick√© pr√°ce pro Vala≈°sk√© Klobouky, Vset√≠n a okol√≠.",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Tichov 130",
        "addressLocality": "Tichov",
        "postalCode": "766 01",
        "addressCountry": "CZ"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": "49.1930",
        "longitude": "17.9940"
      },
      "url": "https://www.jdj-craft.cz",
      "telephone": "+420775380926",
      "email": "jdj-craft@seznam.cz",
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday"
        ],
        "opens": "07:00",
        "closes": "17:00"
      },
      "areaServed": [
        { "@type": "City", "name": "Tichov" },
        { "@type": "City", "name": "Vala≈°sk√© Klobouky" },
        { "@type": "City", "name": "Vset√≠n" },
        { "@type": "City", "name": "Brumov-Bylnice" },
        { "@type": "City", "name": "Vizovice" },
        { "@type": "AdministrativeArea", "name": "Zl√≠nsk√Ω kraj" }
      ],
      "priceRange": "$$"
    }
    </script>
</head>
  
  <body class="bg-brand-black text-gray-100 font-body antialiased selection:bg-gray-300 selection:text-brand-black">

    <Header isHomepage={true} />

    <style>
      @keyframes marquee {
        0% { transform: translateX(0); }
        100% { transform: translateX(-50%); }
      }
      .animate-marquee {
        animation: marquee 20s linear infinite;
      }
    </style>

    <header class="relative h-screen flex items-center justify-center overflow-hidden bg-brand-black">
      <div class="absolute inset-0 z-0">
        <Image 
            src={mainImage} 
            alt="Stavba domu na kl√≠ƒç" 
            class="w-full h-full object-cover object-top"
            format={'webp'} 
            quality={80} 
        />
        <div class="absolute inset-0 bg-gradient-to-t from-brand-black via-brand-black/70 to-brand-black/40"></div>
      </div>

      <div class="relative z-10 text-center px-4 max-w-5xl mx-auto mt-16 animate-fade-in-up">
        <p class="text-gray-300 font-heading font-bold tracking-[0.2em] uppercase mb-4">
          Od roku 2025
        </p>
        <h1 class="text-5xl md:text-7xl lg:text-8xl font-heading font-bold text-white uppercase leading-tight mb-8 drop-shadow-2xl">
          Stav√≠me domy <br />
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400">na pevn√Ωch z√°kladech</span>
        </h1>

        <div class="flex flex-wrap justify-center gap-3 md:gap-6 text-sm md:text-lg font-heading uppercase tracking-widest text-gray-400 mb-10 animate-fade-in-up" style="animation-delay: 0.2s;">
            <a href="/hruba-stavba" class="border-b border-transparent hover:text-white hover:border-white transition-all duration-300">Stavby na kl√≠ƒç</a>
            <span class="text-gray-500 font-bold">|</span>
            <a href="/vodo-topo" class="border-b border-transparent hover:text-white hover:border-white transition-all duration-300">Vodo Topo</a>
            <span class="text-gray-500 font-bold">|</span>
            <a href="/elektroinstalace" class="border-b border-transparent hover:text-white hover:border-white transition-all duration-300">Elektro</a>
            <span class="text-gray-500 font-bold">|</span>
            <a href="/zednicke-prace" class="border-b border-transparent hover:text-white hover:border-white transition-all duration-300">Zednick√© pr√°ce</a>
        </div>

        <p class="text-lg md:text-xl text-gray-300 max-w-2xl mx-auto mb-10 font-light">
          Kompletn√≠ realizace na kl√≠ƒç. Jeden dodavatel, jedna zodpovƒõdnost, ≈æ√°dn√© starosti.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <a href="#kontakt" class="w-full sm:w-auto bg-white text-brand-black hover:bg-gray-200 font-heading font-semibold uppercase tracking-wider py-4 px-8 rounded-sm text-lg transition-all duration-300 shadow-[0_0_20px_rgba(255,255,255,0.1)]">
            Nez√°vazn√° popt√°vka
          </a>
          <a href="#sluzby" class="w-full sm:w-auto border border-white/20 hover:border-white hover:bg-white/5 text-white font-heading uppercase tracking-wider py-4 px-8 rounded-sm text-lg transition-all duration-300">
            Na≈°e slu≈æby
          </a>
        </div>
      </div>
    </header>

    <section id="sluzby" class="py-24 bg-white relative scroll-mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-16 text-center">
                <span class="text-brand-accent font-heading font-bold tracking-widest uppercase text-sm"></span>
                <h2 class="text-4xl md:text-5xl font-heading font-bold text-brand-black mt-2 uppercase">Kompletn√≠ realizace</h2>
                <div class="w-24 h-1 bg-brand-black mx-auto mt-6"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]">
                
                <a href="/hruba-stavba" class="group relative md:col-span-2 rounded-sm overflow-hidden bg-brand-black border border-black/10 hover:shadow-2xl transition-all duration-300 block">
                    <Image 
                        src={domyImg} 
                        alt="Hrub√° stavba" 
                        class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700 ease-out" 
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-brand-black via-brand-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-8 w-full">
                        <h3 class="text-2xl font-heading font-bold text-white uppercase mb-2">Hrub√° stavba & Domy na kl√≠ƒç</h3>
                        <p class="text-gray-300 text-sm max-w-md mb-4">Od v√Ωkopov√Ωch prac√≠ p≈ôes z√°klady a≈æ po st≈ôechu. P≈ôevezmeme kompletn√≠ zodpovƒõdnost.</p>
                        <span class="inline-flex items-center text-white/80 font-heading font-bold text-xs uppercase tracking-wider group-hover:text-white transition-colors">
                            ZOBRAZIT V√çCE 
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                            </svg>
                        </span>
                    </div>
                </a>

                <a href="/vodo-topo" class="group relative rounded-sm overflow-hidden bg-brand-black border border-black/10 hover:shadow-2xl transition-all duration-300 block">
                    <Image 
                        src={vodoImg} 
                        alt="Vodo Topo" 
                        class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700 ease-out" 
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-brand-black via-brand-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-8 w-full">
                        <h3 class="text-xl font-heading font-bold text-white uppercase mb-2">Vodo & Topo</h3>
                        <p class="text-gray-300 text-sm mb-4">Rozvody vody, odpady, topn√© syst√©my, podlahov√© vyt√°pƒõn√≠ i tepeln√° ƒçerpadla.</p>
                        <span class="inline-flex items-center text-white/80 font-heading font-bold text-xs uppercase tracking-wider group-hover:text-white transition-colors">
                            ZOBRAZIT V√çCE 
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                            </svg>
                        </span>
                    </div>
                </a>

                <a href="/elektroinstalace" class="group relative rounded-sm overflow-hidden bg-brand-black border border-black/10 hover:shadow-2xl transition-all duration-300 block">
                    <Image 
                        src={elektroImg} 
                        alt="Elektroinstalace" 
                        class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700 ease-out" 
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-brand-black via-brand-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-8 w-full">
                        <h3 class="text-xl font-heading font-bold text-white uppercase mb-2">Elektroinstalace</h3>
                        <p class="text-gray-300 text-sm mb-4">Silnoproud i slaboproud. Revize, p≈ô√≠pojky, chytr√© dom√°cnosti a osvƒõtlen√≠.</p>
                        <span class="inline-flex items-center text-white/80 font-heading font-bold text-xs uppercase tracking-wider group-hover:text-white transition-colors">
                            ZOBRAZIT V√çCE 
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                            </svg>
                        </span>
                    </div>
                </a>

                <a href="/zednicke-prace" class="group relative md:col-span-2 rounded-sm overflow-hidden bg-brand-black border border-black/10 hover:shadow-2xl transition-all duration-300 block">
                      <Image 
                        src={zednickeImg} 
                        alt="Zednick√© pr√°ce" 
                        class="absolute inset-0 w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700 ease-out" 
                      />
                    <div class="absolute inset-0 bg-gradient-to-t from-brand-black via-brand-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-8 w-full">
                        <h3 class="text-2xl font-heading font-bold text-white uppercase mb-2">Zednick√© pr√°ce & Obklady</h3>
                        <p class="text-gray-300 text-sm max-w-md mb-4">Precizn√≠ pokl√°dka dla≈æby, om√≠tky, fas√°dy a s√°drokartony. D≈Øraz na detail.</p>
                        <span class="inline-flex items-center text-white/80 font-heading font-bold text-xs uppercase tracking-wider group-hover:text-white transition-colors">
                            ZOBRAZIT V√çCE 
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                            </svg>
                        </span>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <div class="bg-brand-black py-8 border-y border-white/10 overflow-hidden">
        <div class="md:hidden">
            <div class="flex w-[200%] animate-marquee">
                <div class="flex-1 flex justify-around">
                    <div class="text-center px-2">
                        <span class="block text-3xl font-heading font-bold text-white mb-1">5+</span>
                        <span class="text-white/80 text-xs uppercase tracking-wider whitespace-nowrap">Let praxe</span>
                    </div>
                    <div class="text-center px-2">
                        <span class="block text-3xl font-heading font-bold text-white mb-1">35+</span>
                        <span class="text-white/80 text-xs uppercase tracking-wider whitespace-nowrap">Projekt≈Ø</span>
                    </div>
                    <div class="text-center px-2">
                        <span class="block text-3xl font-heading font-bold text-white mb-1">100%</span>
                        <span class="text-white/80 text-xs uppercase tracking-wider whitespace-nowrap">Dodr≈æen√≠ term√≠n≈Ø</span>
                    </div>
                    <div class="text-center px-2">
                        <span class="block text-3xl font-heading font-bold text-white mb-1">1</span>
                        <span class="text-white/80 text-xs uppercase tracking-wider whitespace-nowrap">Firma na v≈°e</span>
                    </div>
                </div>
                <div class="flex-1 flex justify-around">
                    <div class="text-center px-2">
                        <span class="block text-3xl font-heading font-bold text-white mb-1">5+</span>
                        <span class="text-white/80 text-xs uppercase tracking-wider whitespace-nowrap">Let praxe</span>
                    </div>
                    <div class="text-center px-2">
                        <span class="block text-3xl font-heading font-bold text-white mb-1">35+</span>
                        <span class="text-white/80 text-xs uppercase tracking-wider whitespace-nowrap">Projekt≈Ø</span>
                    </div>
                    <div class="text-center px-2">
                        <span class="block text-3xl font-heading font-bold text-white mb-1">100%</span>
                        <span class="text-white/80 text-xs uppercase tracking-wider whitespace-nowrap">Dodr≈æen√≠ term√≠n≈Ø</span>
                    </div>
                    <div class="text-center px-2">
                        <span class="block text-3xl font-heading font-bold text-white mb-1">1</span>
                        <span class="text-white/80 text-xs uppercase tracking-wider whitespace-nowrap">Firma na v≈°e</span>
                    </div>
                </div>
                
            </div>
        </div>

        <div class="hidden md:block max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-4 gap-8 text-center divide-x divide-white/20">
                <div class="p-2">
                    <span class="block text-4xl md:text-5xl font-heading font-bold text-white mb-1">5+</span>
                    <span class="text-white/80 text-sm uppercase tracking-wider">Let praxe</span>
                </div>
                <div class="p-2">
                    <span class="block text-4xl md:text-5xl font-heading font-bold text-white mb-1">35+</span>
                    <span class="text-white/80 text-sm uppercase tracking-wider">Projekt≈Ø</span>
                </div>
                <div class="p-2">
                    <span class="block text-4xl md:text-5xl font-heading font-bold text-white mb-1">100%</span>
                    <span class="text-white/80 text-sm uppercase tracking-wider">Dodr≈æen√≠ term√≠n≈Ø</span>
                </div>
                <div class="p-2">
                    <span class="block text-4xl md:text-5xl font-heading font-bold text-white mb-1">1</span>
                    <span class="text-white/80 text-sm uppercase tracking-wider">Firma na v≈°e</span>
                </div>
            </div>
        </div>
    </div>

    <section id="realizace" class="py-24 bg-white scroll-mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-16 text-center">
                <span class="text-brand-black font-heading font-bold tracking-widest uppercase text-sm"></span>
                <h2 class="text-4xl md:text-5xl font-heading font-bold text-brand-black mt-2 uppercase">Uk√°zky z realizac√≠</h2>
                <div class="w-24 h-1 bg-brand-black mx-auto mt-6"></div>
            </div>

            <div id="projekty-grid" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                {projects.map((project) => (
                    <div 
                        class={`group cursor-pointer project-card ${project.hidden ? 'hidden project-hidden' : ''}`}
                        data-project={JSON.stringify(project)}
                    >
                        <div class="relative h-[400px] overflow-hidden rounded-sm mb-4 shadow-xl">
                            <div class="absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors z-10"></div>
                            <img 
                                src={project.mainImage} 
                                alt={project.title} 
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out" 
                            />
                            <div class="absolute top-4 left-4 z-20 bg-brand-black text-white text-xs font-heading uppercase px-3 py-1">
                                {project.category}
                            </div>
                            <div class="absolute inset-0 flex items-center justify-center opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20 pointer-events-none">
                                <div class="bg-white/90 text-brand-black p-3 rounded-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <h3 class="text-2xl font-heading font-bold text-brand-black group-hover:text-brand-accent transition-colors">
                            {project.title}
                        </h3>
                        <p class="text-gray-600 mt-2">{project.shortDesc}</p>
                    </div>
                ))}
            </div>

            <div class="text-center mt-16">
                <button id="zobrazit-dalsi-btn" class="inline-block bg-brand-black hover:bg-brand-accent text-white font-semibold py-3 px-8 rounded-sm transition-all duration-300 uppercase font-heading tracking-wider shadow-lg">
                    Zobrazit dal≈°√≠ projekty
                </button>
                <button id="skryt-projekty-btn" class="hidden inline-block bg-brand-black hover:bg-brand-accent text-white font-semibold py-3 px-8 rounded-sm transition-all duration-300 uppercase font-heading tracking-wider shadow-lg">
                    Zobrazit m√©nƒõ
                </button>
            </div>
        </div>
    </section>

    <section id="recenze" class="py-24 bg-brand-black border-t border-white/5 scroll-mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-brand-accent font-heading font-bold tracking-widest uppercase text-sm">≈òekli o n√°s</span>
                <h2 class="text-4xl md:text-5xl font-heading font-bold text-white mt-2 uppercase">Spokojen√≠ klienti</h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-brand-gray p-8 rounded-sm border border-white/5 relative">
                    <div class="text-white/20 text-6xl font-heading absolute -top-4 left-6">"</div>
                    <p class="text-gray-300 italic mb-6 relative z-10 pt-4">
                        Skvƒõl√° firma, super profesion√°ln√≠ p≈ô√≠stup k pr√°ci i z√°kazn√≠k≈Øm, instalat√©rsk√© pr√°ce a v√Ωroba luxusn√≠ch a obytn√Ωch kontejner≈Ø na m√≠ru, ka≈æd√Ω si vybere‚ú®üëç
                    </p>
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center font-heading font-bold">PB</div>
                        <div>
                            <h4 class="text-white font-bold font-heading uppercase">Petr Ba≈ôinka</h4>
                            <span class="text-xs text-gray-400 uppercase">Rekonstrukce koupelny</span>
                        </div>
                    </div>
                </div>

                <div class="bg-brand-gray p-8 rounded-sm border border-white/5 relative">
                     <div class="text-white/20 text-6xl font-heading absolute -top-4 left-6">"</div>
                    <p class="text-gray-300 italic mb-6 relative z-10 pt-4">
                        Super spolupr√°ce! Kluci makaj√≠ rychle, v√≠ co dƒõlaj√≠ a je na nƒõ spoleh. Kvalitn√≠ pr√°ce, f√©rov√Ω p≈ô√≠stup a nav√≠c se um√≠ ƒçasovƒõ p≈ôizp≈Øsobit ‚Äì to se dnes moc ƒçasto nevid√≠.
                    </p>
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center font-heading font-bold">TS</div>
                        <div>
                            <h4 class="text-white font-bold font-heading uppercase">Tom√°≈° Surovec</h4>
                            <span class="text-xs text-gray-400 uppercase">Rekonstrukce bytov√©ho j√°dra</span>
                        </div>
                    </div>
                </div>

                <div class="bg-brand-gray p-8 rounded-sm border border-white/5 relative">
                     <div class="text-white/20 text-6xl font-heading absolute -top-4 left-6">"</div>
                    <p class="text-gray-300 italic mb-6 relative z-10 pt-4">
                        Naprost√° spokojenost - doporuƒçuji v≈°emi deseti. Komunikace byla v≈ædy vst≈ô√≠cn√° a jasn√°. Poctivost, rychlost, kvalita a f√©rov√° cena.
                    </p>
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center font-heading font-bold">A≈†</div>
                        <div>
                            <h4 class="text-white font-bold font-heading uppercase">Anton√≠n ≈†enke≈ô√≠k</h4>
                            <span class="text-xs text-gray-400 uppercase"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="kontakt" class="py-24 bg-white scroll-mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-16">
                
                <div class="lg:col-span-5 flex flex-col justify-center">
                    <span class="text-brand-black font-heading font-bold tracking-widest uppercase text-sm">M√°te projekt?</span>
                    <h2 class="text-4xl md:text-5xl font-heading font-bold text-brand-black mt-2 uppercase mb-6">Napi≈°te n√°m</h2>
                    <p class="text-gray-600 mb-10 text-lg leading-relaxed">
                        Pl√°nujete stavbu nebo rekonstrukci? Ozvƒõte se n√°m. Nacenƒõn√≠ a prvn√≠ konzultaci m√°te u n√°s zdarma. R√°di se s v√°mi potk√°me p≈ô√≠mo na m√≠stƒõ realizace.
                    </p>

                    <div class="space-y-8">
                        <div class="flex items-start gap-5 group">
                            <div class="w-14 h-14 bg-gray-100 flex items-center justify-center text-brand-black rounded-sm shrink-0 group-hover:bg-brand-black group-hover:text-white transition-all duration-300 shadow-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-7 h-7"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" /></svg>
                            </div>
                            <div>
                                <span class="block text-sm text-gray-500 uppercase tracking-wider font-semibold mb-1">Zavolejte n√°m</span>
                                <a href="tel:+420775380926" class="text-2xl md:text-3xl font-heading font-bold text-brand-black hover:text-brand-accent transition-colors">+420 775 380 926</a>
                            </div>
                        </div>

                        <div class="flex items-start gap-5 group">
                            <div class="w-14 h-14 bg-gray-100 flex items-center justify-center text-brand-black rounded-sm shrink-0 group-hover:bg-brand-black group-hover:text-white transition-all duration-300 shadow-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-7 h-7">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                                </svg>
                            </div>
                            <div>
                                <span class="block text-sm text-gray-500 uppercase tracking-wider font-semibold mb-1">Napi≈°te email</span>
                                <a href="mailto:jdj-craft@seznam.cz" class="text-xl md:text-2xl font-heading font-bold text-brand-black hover:text-brand-accent transition-colors break-all">jdj-craft@seznam.cz</a>
                            </div>
                        </div>
                        
                        <div class="pt-8 mt-8 border-t border-gray-100">
                             <div class="flex items-start gap-5">
                                <div class="w-14 h-14 bg-white border border-gray-100 flex items-center justify-center text-brand-black rounded-sm shrink-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" /></svg>
                                </div>
                                <div>
                                     <h4 class="text-brand-black font-heading font-bold uppercase mb-1">S√≠dlo firmy</h4>
                                     <p class="text-gray-600">JDJ-craft s.r.o., Tichov 130<br>766 01 Tichov</p>
                                     <p class="text-gray-400 text-sm mt-2 font-mono">IƒåO: 22461990</p>
                                     <p class="text-gray-400 text-sm mt-0.2 font-mono">DIƒå: CZ22461990</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-7">
                    <div class="bg-gray-50 rounded-sm overflow-hidden shadow-2xl border border-gray-100 flex flex-col md:flex-row h-full">
                        
                        <div class="md:w-1/2 relative min-h-[250px] md:min-h-full">
                            <Image 
                                src={kontaktImg} 
                                alt="Kontaktujte n√°s" 
                                class="absolute inset-0 w-full h-full object-cover object-[55%_center]"
                                format={'webp'}
                            />
                            <div class="absolute inset-0 bg-brand-black/10"></div>
                        </div>

                        <div class="md:w-1/2 p-8 md:p-10 lg:p-12">
                            <h3 class="text-2xl font-heading font-bold text-brand-black uppercase mb-6">Zanechte n√°m vzkaz</h3>
                            <form action="https://formspree.io/f/mnjaaarw" method="POST">
    <div class="space-y-4">
        <div>
            <label class="sr-only">Jm√©no a p≈ô√≠jmen√≠</label>
            <input type="text" name="name" required class="w-full bg-white border border-gray-200 text-brand-black px-4 py-3 focus:outline-none focus:border-brand-black focus:ring-1 focus:ring-brand-black transition-all rounded-sm placeholder-gray-400" placeholder="Jm√©no a p≈ô√≠jmen√≠">
        </div>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
                <label class="sr-only">Telefon</label>
                <input type="tel" name="phone" required class="w-full bg-white border border-gray-200 text-brand-black px-4 py-3 focus:outline-none focus:border-brand-black focus:ring-1 focus:ring-brand-black transition-all rounded-sm placeholder-gray-400" placeholder="Telefon">
            </div>
            <div>
                <label class="sr-only">Email</label>
                <input type="email" name="email" required class="w-full bg-white border border-gray-200 text-brand-black px-4 py-3 focus:outline-none focus:border-brand-black focus:ring-1 focus:ring-brand-black transition-all rounded-sm placeholder-gray-400" placeholder="V√°≈° email">
            </div>
        </div>

        <div>
            <label class="sr-only">Zpr√°va</label>
            <textarea rows="4" name="message" required class="w-full bg-white border border-gray-200 text-brand-black px-4 py-3 focus:outline-none focus:border-brand-black focus:ring-1 focus:ring-brand-black transition-all rounded-sm placeholder-gray-400 resize-none" placeholder="M√°m z√°jem o rekonstrukci..."></textarea>
        </div>

        <button type="submit" class="w-full bg-brand-black hover:bg-brand-accent text-white font-heading font-bold uppercase tracking-wider py-4 rounded-sm transition-all duration-300 shadow-lg transform hover:-translate-y-1">
            Odeslat popt√°vku
        </button>
        <p class="text-xs text-gray-400 text-center mt-4">
            Odesl√°n√≠m souhlas√≠te se zpracov√°n√≠m osobn√≠ch √∫daj≈Ø.
        </p>
    </div>
</form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="project-modal" class="fixed inset-0 z-[100] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="fixed inset-0 bg-black/90 transition-opacity opacity-0" id="modal-backdrop"></div>

        <div class="fixed inset-0 z-10 overflow-y-auto">
            <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
                
                <div class="relative transform overflow-hidden rounded-sm bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-7xl opacity-0 scale-95" id="modal-panel">
                    
                    <button type="button" id="close-modal-btn" class="absolute top-4 right-4 z-50 text-gray-400 hover:text-brand-black transition-colors bg-white/50 hover:bg-white rounded-full p-2">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>

                    <div class="flex flex-col-reverse md:flex-row h-full items-stretch">
                        <div id="modal-image-container" class="md:w-3/5 bg-neutral-900 relative group aspect-[4/5] md:aspect-auto md:min-h-[600px] bg-cover bg-center bg-no-repeat">
                            
                            <button id="prev-image" class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/30 text-white p-3 rounded-full backdrop-blur-sm transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg>
                            </button>
                            <button id="next-image" class="absolute right-4 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/30 text-white p-3 rounded-full backdrop-blur-sm transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>
                            </button>
                            
                            <div class="absolute bottom-6 left-1/2 -translate-x-1/2 bg-black/50 px-4 py-1.5 rounded-full text-white text-sm backdrop-blur-md">
                                <span id="current-index">1</span> / <span id="total-images">1</span>
                            </div>
                        </div>

                        <div class="md:w-2/5 p-8 md:p-12 lg:p-16 flex flex-col justify-center bg-white">
                            <span id="modal-category" class="text-gray-400 font-heading font-bold tracking-[0.2em] uppercase text-sm mb-4"></span>
                            
                            <h3 id="modal-title" class="text-3xl md:text-4xl font-heading font-bold text-brand-black uppercase mb-8 leading-tight"></h3>
                            
                            <div class="prose prose-lg text-gray-600 mb-10 flex-grow overflow-y-auto max-h-[400px] pr-4 custom-scrollbar">
                                <p id="modal-desc" class="leading-relaxed"></p>
                            </div>
                            
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-brand-black py-8 border-t border-white/5">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-gray-600 text-sm">
                &copy; <span id="copyright-year">2025</span> JDJ-craft s.r.o. | V≈°echna pr√°va vyhrazena.
            </p>
        </div>
    </footer>

    <script is:inline>
        const yearEl = document.getElementById('copyright-year');
        if (yearEl) {
            yearEl.textContent = new Date().getFullYear().toString();
        }

        // LOGIKA PRO ZOBRAZEN√ç DAL≈†√çCH PROJEKT≈Æ
        const showMoreBtnRealizace = document.getElementById('zobrazit-dalsi-btn');
        const showLessBtnRealizace = document.getElementById('skryt-projekty-btn');
        const hiddenProjectsRealizace = document.querySelectorAll('.project-hidden');
        
        if (showMoreBtnRealizace && showLessBtnRealizace && hiddenProjectsRealizace.length > 0) {
            // Pokud nejsou ≈æ√°dn√© skryt√© projekty, tlaƒç√≠tko rovnou skryjeme
            // if(hiddenProjectsRealizace.length === 0) {
            //     showMoreBtnRealizace.style.display = 'none';
            // }

            showMoreBtnRealizace.addEventListener('click', () => {
                hiddenProjectsRealizace.forEach(el => {
                    el.classList.remove('hidden');
                    // Mal√° animace pro hladk√Ω n√°bƒõh
                    el.classList.add('animate-fade-in-up');
                });
                showMoreBtnRealizace.classList.add('hidden');
                showLessBtnRealizace.classList.remove('hidden');
            });

            showLessBtnRealizace.addEventListener('click', () => {
                hiddenProjectsRealizace.forEach(el => {
                    el.classList.add('hidden');
                    el.classList.remove('animate-fade-in-up');
                });
                showLessBtnRealizace.classList.add('hidden');
                showMoreBtnRealizace.classList.remove('hidden');
                const realizaceSection = document.getElementById('realizace');
                if (realizaceSection) realizaceSection.scrollIntoView({ behavior: 'smooth' });
            });
        }

        // LOGIKA PRO MODAL (POPUP)
        const modal = document.getElementById('project-modal');
        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalPanel = document.getElementById('modal-panel');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const projectCards = document.querySelectorAll('.project-card');
        
        // Elementy v modalu
        const mImageContainer = document.getElementById('modal-image-container');
        const mTitle = document.getElementById('modal-title');
        const mCategory = document.getElementById('modal-category');
        const mDesc = document.getElementById('modal-desc');
        const mPrev = document.getElementById('prev-image');
        const mNext = document.getElementById('next-image');
        const mCurrentIdx = document.getElementById('current-index');
        const mTotalImg = document.getElementById('total-images');

        let currentGallery = [];
        let currentImageIndex = 0;

        function openModal(data) {
            // Naplnƒõn√≠ daty
            mTitle.textContent = data.title;
            mCategory.textContent = data.category;
            mDesc.textContent = data.fullDesc;
            
            // Galerie
            currentGallery = data.gallery && data.gallery.length > 0 ? data.gallery : [data.mainImage];
            currentImageIndex = 0;
            updateGalleryImage();

            // Zobrazen√≠ modalu
            modal.classList.remove('hidden');
            // Timeout pro animaci
            setTimeout(() => {
                modalBackdrop.classList.remove('opacity-0');
                modalPanel.classList.remove('opacity-0', 'scale-95');
            }, 10);
            document.body.style.overflow = 'hidden'; // Zamez√≠ scrollov√°n√≠ str√°nky
        }

        function closeModal() {
            modalBackdrop.classList.add('opacity-0');
            modalPanel.classList.add('opacity-0', 'scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
                document.body.style.overflow = '';
            }, 300);
        }

        function updateGalleryImage() {
            mImageContainer.style.backgroundImage = `url('${currentGallery[currentImageIndex]}')`;
            mCurrentIdx.textContent = currentImageIndex + 1;
            mTotalImg.textContent = currentGallery.length;
            
            // Skryt√≠ ≈°ipek pokud je jen jedna fotka
            if(currentGallery.length <= 1) {
                mPrev.style.display = 'none';
                mNext.style.display = 'none';
            } else {
                mPrev.style.display = 'block';
                mNext.style.display = 'block';
            }
        }

        // Event Listenery pro karty
        projectCards.forEach(card => {
            card.addEventListener('click', () => {
                const data = JSON.parse(card.dataset.project);
                openModal(data);
            });
        });

        // Event Listenery pro Modal
        if(closeModalBtn) closeModalBtn.addEventListener('click', closeModal);
        if(modalBackdrop) modalBackdrop.addEventListener('click', closeModal);
        
        // Kl√°vesa ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                closeModal();
            }
            // ≈†ipky pro galerii
            if (!modal.classList.contains('hidden')) {
                if (e.key === 'ArrowLeft') showPrevImage();
                if (e.key === 'ArrowRight') showNextImage();
            }
        });

        // Galerie navigace
        function showPrevImage(e) {
            if(e) e.stopPropagation();
            if(currentGallery.length > 1) {
                currentImageIndex = (currentImageIndex - 1 + currentGallery.length) % currentGallery.length;
                updateGalleryImage();
            }
        }
        function showNextImage(e) {
            if(e) e.stopPropagation();
            if(currentGallery.length > 1) {
                currentImageIndex = (currentImageIndex + 1) % currentGallery.length;
                updateGalleryImage();
            }
        }

        if(mPrev) mPrev.addEventListener('click', showPrevImage);
        if(mNext) mNext.addEventListener('click', showNextImage);
    </script>
    <script>
        import { inject } from '@vercel/analytics';
        inject();
    </script>
  </body>
</html>